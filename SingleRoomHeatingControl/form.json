{
  "elements": [
    {"type": "SelectVariable", "name": "ActualTempID", "caption": "Actual Temperature ID"},
    {"type": "SelectVariable", "name": "SetTempID", "caption": "Set Temperature ID"},
    {
      "type":  "ExpansionPanel", "caption": "Time Schedule",
      "items": [
        {"type": "SelectEvent", "name": "WeeklyTimeTableEventID", "caption": "Weekly Timetable Event ID"},
        {
          "type":  "ExpansionPanel", "caption": "Consider Holiday (optional)",
          "items": [
            {"type": "SelectVariable", "name": "HolidayIndicatorID", "caption": "Holiday Indicator ID"},
            {
              "type": "Select", "name": "DayUsedWhenHoliday", "caption": "Used Weekday when Holiday", "options": [
              {"caption": "- not used -", "value": 0},
              {"caption": "Monday", "value": 1},
              {"caption": "Tuesday", "value": 2},
              {"caption": "Wednesday", "value": 3},
              {"caption": "Thursday", "value": 4},
              {"caption": "Friday", "value": 5},
              {"caption": "Saturday", "value": 6},
              {"caption": "Sunday", "value": 7}
            ]
            }
          ]
        },
        {
          "type":  "ExpansionPanel", "caption": "Overruling Up and Down Times (optional)",
          "items": [
            {"type": "SelectVariable", "name": "WakeUpTimeID", "caption": "Wake-Up Time ID"},
            {"type": "NumberSpinner", "name": "WakeUpTimeOffset", "caption": "Wake-Up Time Offset", "suffix": "Minutes"},
            {"type": "SelectVariable", "name": "BedTimeID", "caption": "Bedtime ID"},
            {"type": "NumberSpinner", "name": "BedTimeOffset", "caption": "Bedtime Offset", "suffix": "Minutes"}
          ]
        },
        {"type": "Label", "caption": "If the blind is not to be completely closed at night, a different close position can be specified."},
        {
          "type": "RowLayout", "items": [
          {"type": "CheckBox", "name": "ActivatedIndividualNightLevels"},
          {"type": "NumberSpinner", "name": "NightBlindLevel", "caption": "Blind Level", "digits": "2"},
          {"type": "NumberSpinner", "name": "NightSlatsLevel", "caption": "Slats Level", "digits": "2"}
        ]
        },
        {"type": "Label", "caption": "If the blind is not to be completely opened at day, a different open position can be specified."},
        {
          "type": "RowLayout", "items": [
          {"type": "CheckBox", "name": "ActivatedIndividualDayLevels"},
          {"type": "NumberSpinner", "name": "DayBlindLevel", "caption": "Blind Level", "digits": "2"},
          {"type": "NumberSpinner", "name": "DaySlatsLevel", "caption": "Slats Level", "digits": "2"}
        ]
        }
      ]
    },
    
    
    {
      "type":  "ExpansionPanel", "caption": "Contacts (optional)",
      "items": [
        {
          "type":  "ExpansionPanel", "caption": "Contacts to Close the Blind (optional)",
          "items": [
            {"type": "Label", "caption": "Define up to two contacts/variables. The blind is closed immediately to the given maximum height if one of the contacts are open."},
            {
              "type": "RowLayout", "items": [
              {"type": "SelectVariable", "name": "ContactClose1ID", "caption": "Contact 1 ID"},
              {"type": "NumberSpinner", "name": "ContactCloseLevel1", "caption": "Maximum height when the contact is open", "digits": "2"},
              {"type": "NumberSpinner", "name": "ContactCloseSlatsLevel1", "caption": "Maximum slats position when the contact is open", "digits": "2"}
            ]
            },
            {
              "type": "RowLayout", "items": [
              {"type": "SelectVariable", "name": "ContactClose2ID", "caption": "Contact 2 ID"},
              {"type": "NumberSpinner", "name": "ContactCloseLevel2", "caption": "Maximum height when the contact is open", "digits": "2"},
              {"type": "NumberSpinner", "name": "ContactCloseSlatsLevel2", "caption": "Maximum slats position when the contact is open", "digits": "2"}
            ]
            }
          ]
        },
        {
          "type":  "ExpansionPanel", "caption": "Contacts to Open the Blind (optional)",
          "items": [
            {"type": "Label", "caption": "Define up to two contacts/variables. The blind is opened immediately to the given minimum height if one of the contacts are open."},
            {
              "type": "RowLayout", "items": [
              {"type": "SelectVariable", "name": "ContactOpen1ID", "caption": "Contact 1 ID"},
              {"type": "NumberSpinner", "name": "ContactOpenLevel1", "caption": "Minimum height when the contact is open", "digits": "2"},
              {"type": "NumberSpinner", "name": "ContactOpenSlatsLevel1", "caption": "Minimum slats position when the contact is open", "digits": "2"}
            ]
            },
            {
              "type": "RowLayout", "items": [
              {"type": "SelectVariable", "name": "ContactOpen2ID", "caption": "Contact 2 ID"},
              {"type": "NumberSpinner", "name": "ContactOpenLevel2", "caption": "Minimum height when the contact is open", "digits": "2"},
              {"type": "NumberSpinner", "name": "ContactOpenSlatsLevel2", "caption": "Minimum slats position when the contact is open", "digits": "2"}
            ]
            }
          ]
        },
        {"type": "CheckBox", "name": "ContactsToCloseHaveHigherPriority", "caption": "Contacts to close the blind have a higher priority than the ones to open"}
      ]
    },
    
  ],
  "actions":  [
    {"type": "TestCenter"},
    {
      "type":  "RowLayout",
      "items": [
        {"type": "NumberSpinner", "name": "BlindLevel", "caption": "BlindLevel: Percentage from 0 (open) to 100 (close)", "minimum": 0, "maximum": 100},
        {"type": "NumberSpinner", "name": "SlatsLevel", "caption": "SlatsLevel: Percentage from 0 (open) to 100 (close)", "minimum": 0, "maximum": 100},
        {"type": "Button", "caption": "Move Blind", "onClick": "$module = new IPSModule($id);if (BLC_MoveBlind($id, $BlindLevel, $SlatsLevel, 0, '')){echo $module->Translate('Finished!');} else {echo $module->Translate('Error!');}"}
      ]
    },
    {"type": "Button", "caption": "Show Configuration", "onClick": "echo IPS_GetObject($id)['ObjectName'] . ' (#' . $id . ')' . PHP_EOL . PHP_EOL; print_r(json_decode(IPS_GetConfiguration ($id), true));"},
    {"type": "Button", "caption": "Steuerungslauf durchfÃ¼hren", "onClick": "$module = new IPSModule($id);if (BLC_ControlBlind($id, true)){echo $module->Translate('Finished!');} else {echo $module->Translate('Error!');}"}
  ],
  "status":   [
    {"code": 201, "icon": "error", "caption": "Weekly Timetable Event ID is not valid"},
    {"code": 202, "icon": "error", "caption": "Holiday Indicator ID is not valid"},
    {"code": 203, "icon": "error", "caption": "Blind Level ID is not valid"},
    {"code": 204, "icon": "error", "caption": "Brightness ID is not valid"},
    {"code": 205, "icon": "error", "caption": "Brightness Threshold ID is not valid"},
    {"code": 206, "icon": "error", "caption": "IsDay ID is not valid"},
    {"code": 207, "icon": "error", "caption": "Deactivation Time Manual is not valid"},
    {"code": 208, "icon": "error", "caption": "Deactivation Time Automatic is not valid"},
    {"code": 209, "icon": "error", "caption": "ScheduleGroups of Timetable are not valid"},
    {"code": 210, "icon": "error", "caption": "Contact 1 ID is not valid"},
    {"code": 211, "icon": "error", "caption": "Contact 2 ID is not valid"},
    {"code": 212, "icon": "error", "caption": "Emergency Contact ID is not valid"},
    {"code": 213, "icon": "error", "caption": "WakeUpTime ID is not valid"},
    {"code": 214, "icon": "error", "caption": "SleepTime ID is not valid"},
    {"code": 215, "icon": "error", "caption": "DayStart ID is not valid"},
    {"code": 216, "icon": "error", "caption": "DayEnd ID is not valid"},
    {"code": 217, "icon": "error", "caption": "Blind Level may not be emulated"},
    {"code": 218, "icon": "error", "caption": "Slats Level may not be emulated"},
    {"code": 220, "icon": "error", "caption": "Shadowing according to sun position: Activator ID is not valid"},
    {"code": 221, "icon": "error", "caption": "Shadowing according to sun position: Azimuth ID is not valid"},
    {"code": 222, "icon": "error", "caption": "Shadowing according to sun position: Altitude ID is not valid"},
    {"code": 223, "icon": "error", "caption": "Shadowing according to sun position: Brightness ID is not valid"},
    {"code": 224, "icon": "error", "caption": "Shadowing according to sun position: Brightness Threshold ID is not valid"},
    {"code": 225, "icon": "error", "caption": "Shadowing according to sun position: Temperature ID is not valid"},
    {"code": 230, "icon": "error", "caption": "Shadowing according to brightness: Activator ID is not valid"},
    {"code": 231, "icon": "error", "caption": "Shadowing according to brightness: Brightness ID is not valid"},
    {"code": 232, "icon": "error", "caption": "Shadowing according to brightness: Threshold high brightness ID is not valid"},
    {"code": 233, "icon": "error", "caption": "Shadowing according to brightness: Threshold low brightness ID is not valid"},
    {"code": 234, "icon": "error", "caption": "A given Blind Level is out of range"},
    {"code": 235, "icon": "error", "caption": "A given Slats Position is out of range"},
    {"code": 236, "icon": "error", "caption": "Slats Level ID is not valid"},
    {"code": 237, "icon": "error", "caption": "Blind Level variable without profile"},
    {"code": 238, "icon": "error", "caption": "Profile of Blind Level variable has wrong min/max values"},
    {"code": 239, "icon": "error", "caption": "Profile of Slats Level variable has wrong min/max values"},
    {"code": 240, "icon": "error", "caption": "Slats Level variable without profile"}
  ]
}